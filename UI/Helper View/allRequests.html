<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	
	<title>Document</title>
	<link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel="stylesheet" href="css/main.css">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	
</head>
<body>
	<style>
		#map{
			height:400px;
			width:100%; }

	</style>
<body>
	<h1> My Google Map </h1>
	<div id="map"></div>
	<script>
      $.post("./data/UserData/log.json",function(data) {
        parseLog(data);
      });

      function initMap(){
        var options = {
        	zoom:8, 
        	center:{lat:42,lng:-71}
        }

        var map = new google.maps.Map(document.getElementById('map'), options);
        var geocoder = new google.maps.Geocoder();

    	console.log(findCoords(geocoder, map, "123 Main St, Lexington, MA, 02421"))
       
        
/*
        var marker = new google.maps.Marker({
        	position:{lat:42,lng:-70},
        	map:map
        	});
        var infoWindow=new google.maps.InfoWindow({content:'<h1> Cape Cod</h1>'});
        marker.addListener('click', function(){infoWindow.open(map, marker);});
*/		
		function addMarker(coords, name){
			var marker = new google.maps.Marker({
        	position:coords,
        	map:map
        	});
			var infoWindow=new google.maps.InfoWindow({content:'<h1>'+ name +'</h1>'});
        	marker.addListener('click', function(){infoWindow.open(map, marker);});

		}
		
		addMarker({lat:42, lng:-70},"Alex")
		addMarker({lat:41, lng: -71},"Sarah")
		

		function findCoords(geocoder, resultsMap, address) {
        	geocoder.geocode({'address': address}, function(results, status) {
          if (status === 'OK') { return(results[0].geometry.location.lat());

          /*
            resultsMap.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
              map: resultsMap,
              position: results[0].geometry.location
            });*/
          } else {
            alert('Geocode was not successful for the following reason: ' + status);
            return;
          }
          //return status;

        });
      }
  }


      
    </script>



	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADkEWk0rw92U2RLe3_8z0ejK1MQ-mUs9w&callback=initMap"
    async defer></script>


</body>
</html>